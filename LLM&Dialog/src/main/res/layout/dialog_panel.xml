<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/dialog_container"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:visibility="gone">

    <!-- 对话历史区域 - 左下角 -->
    <LinearLayout
        android:id="@+id/dialog_history_container"
        android:layout_width="420dp"
        android:layout_height="320dp"
        android:layout_alignParentLeft="true"
        android:layout_alignParentBottom="true"
        android:layout_marginLeft="16dp"
        android:layout_marginBottom="100dp"
        android:background="@drawable/dialog_bg"
        android:orientation="vertical"
        android:padding="12dp">

        <!-- 标题栏 -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:paddingBottom="8dp"
            android:gravity="center_vertical">

            <TextView
                android:id="@+id/dialog_npc_name"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="NPC名称"
                android:textColor="#FFFFFF"
                android:textSize="16sp"
                android:textStyle="bold" />

            <ImageButton
                android:id="@+id/dialog_close_btn"
                android:layout_width="28dp"
                android:layout_height="28dp"
                android:background="@android:color/transparent"
                android:src="@android:drawable/ic_menu_close_clear_cancel"
                android:scaleType="fitCenter"
                android:contentDescription="关闭" />
        </LinearLayout>

        <!-- 分隔线 -->
        <View
            android:layout_width="match_parent"
            android:layout_height="1dp"
            android:background="#40FFFFFF" />

        <!-- 对话消息列表 -->
        <ScrollView
            android:id="@+id/dialog_scroll_view"
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_weight="1"
            android:layout_marginTop="8dp"
            android:scrollbars="none">

            <LinearLayout
                android:id="@+id/dialog_messages_container"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:paddingBottom="8dp" />
        </ScrollView>
    </LinearLayout>

    <!-- 输入区域 - 底部 -->
    <LinearLayout
        android:id="@+id/dialog_input_container"
        android:layout_width="460dp"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentBottom="true"
        android:layout_marginLeft="16dp"
        android:layout_marginBottom="16dp"
        android:background="@drawable/input_bg"
        android:orientation="horizontal"
        android:padding="8dp"
        android:gravity="center_vertical">

        <!-- 表情按钮 -->
        <ImageButton
            android:id="@+id/dialog_emoji_btn"
            android:layout_width="36dp"
            android:layout_height="36dp"
            android:background="@android:color/transparent"
            android:src="@android:drawable/ic_menu_mood"
            android:layout_marginRight="8dp"
            android:scaleType="fitCenter"
            android:contentDescription="表情" />

        <!-- 输入框 -->
        <EditText
            android:id="@+id/dialog_input_text"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:background="@drawable/input_field_bg"
            android:hint="江湖相见，不知杨所欲言..."
            android:textColorHint="#80FFFFFF"
            android:textColor="#FFFFFF"
            android:textSize="14sp"
            android:padding="10dp"
            android:maxLines="3"
            android:inputType="textMultiLine|textCapSentences"
            android:imeOptions="actionSend" />

        <!-- 发送按钮 -->
        <Button
            android:id="@+id/dialog_send_btn"
            android:layout_width="70dp"
            android:layout_height="40dp"
            android:layout_marginLeft="8dp"
            android:background="@drawable/send_btn_bg"
            android:text="发送"
            android:textColor="#000000"
            android:textSize="14sp"
            android:textStyle="bold" />
    </LinearLayout>

</RelativeLayout>
